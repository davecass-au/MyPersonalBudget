@using Application.Services.Data.Interfaces
@using Shared.Models.DTOs
@using Shared.Models.Enums

@inject IDataServicesRepo dataService

<RadzenTemplateForm Data="@singleInstance" Submit="@(async (TransactionSingleInstanceDto singleInstance) => { await Submit(singleInstance); })">
    <RadzenRow Gap="2rem" Class="rz-p-0 rz-p-lg-4">
        <RadzenColumn Size="12" SizeMD="12">
            <RadzenStack>
                <RadzenFieldset Text="Schedule Single">
                    <RadzenStack Gap="1rem">
                        <RadzenRow AlignItems="AlignItems.Center">
                            <RadzenLabel 
                                Text="Select Date" 
                                Component="Date"
                            />
                        </RadzenRow>
                        <RadzenRow AlignItems="AlignItems.Center">
                            <RadzenDatePicker 
                                @bind-Value=@singleInstance.TransactionDate 
                                Name="Date" ShowCalendarWeek 
                            />
                        </RadzenRow>
                    </RadzenStack>
                    <RadzenStack Gap="1rem">
                        <RadzenRow AlignItems="AlignItems.Center">
                            <RadzenLabel 
                                Text="Amount" 
                                Component="Amount" 
                            />
                        </RadzenRow>
                        <RadzenRow AlignItems="AlignItems.Center">
                            <RadzenNumeric 
                                TValue="double" 
                                Min="1"
                                Max="@int.MaxValue"
                                Format="c" @bind-Value=@singleInstance.TransactionAmount
                            />
                        </RadzenRow>
                    </RadzenStack>
                </RadzenFieldset>
            </RadzenStack>
        </RadzenColumn>
    </RadzenRow>
    <RadzenStack Orientation="Orientation.Horizontal" JustifyContent="JustifyContent.Center" Gap="1rem" Class="rz-mt-8 rz-mb-4">
        <RadzenButton ButtonType="ButtonType.Submit" Size="ButtonSize.Large" Icon="save" Text="Save" />
        <RadzenButton ButtonStyle="ButtonStyle.Light" Variant="Variant.Flat" Size="ButtonSize.Large" Icon="cancel" Text="Cancel" Click="@Cancel" />
    </RadzenStack>
</RadzenTemplateForm>

